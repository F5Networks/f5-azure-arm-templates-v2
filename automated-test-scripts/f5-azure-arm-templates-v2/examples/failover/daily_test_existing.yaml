---
name: Azure Examples - Failover
onStart:
- ../../common/helper_init.sh
- ../../common/create_ssh_key.sh
- ../../common/create_resource_group.sh
- ../../common/create_secret.sh
- ../../common/verify_create_secret.sh
- ../../common/create_identity.sh
- ../../common/create_vault_role_assignment.sh
- ../../common/upload_templates.sh
- ../../common/create_network_environment.sh
- ../../common/verify_network_create_env.sh
- ../../common/create_app_environment.sh
- ../../common/verify_app_create_env.sh
- ../../common/create_bastion_environment.sh
- ../../common/verify_bastion_create_env.sh
- ./create_deployment_existing_stack.sh
- ../../common/verify_create.sh
# uncomment these tests when az vm list-ip-addresses works again
# - ./tests/verify_outputs.sh
# - ./tests/associate_nsg.sh
# - ./tests/verify_login.sh
# - ./tests/verify_sync.sh
# - ./tests/verify_failover.sh
# - ./tests/verify_application.sh
# - ./tests/shutdown_active.sh
# - ./tests/verify_shutdown_active.sh
# - ./tests/verify_application.sh
# - ./tests/start_active.sh
# - ./tests/verify_start_active.sh
# - ./tests/verify_active_standby.sh
# - ./tests/verify_application.sh
- ../../common/delete_deployment.sh
- ../../common/verify_delete.sh
onFail:
- ../../../sleep/1_minute.sh
- ../../common/capture_deployment_status.sh
- ./capture_logs.sh
- ../../common/delete_deployment.sh
- ../../common/verify_delete.sh